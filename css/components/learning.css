/* ============ SPACERS ============ */
.spacer {
  min-height: 42vh;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
  color: var(--text-primary);
}

.learning-title {
    font-size: clamp(24px, 8vw, 53px);
    font-weight: 400;
    font-family: 'OrganettoSemiExt', sans-serif;
    color: var(--text-primary);
    letter-spacing: 0.02em;
    text-align: center;
    line-height: 1.1;
    margin-bottom: 32px;
    text-transform: uppercase;
}

.learning-title-highlight {
    color: #5b9fef;
    display: inline-block;
}


/* ============ HORIZONTAL SCROLL TRACK ============ */
.horizontal-scroll-track {
  height: 850vh;
  position: relative;
}

.pinned-section {
  position: sticky;
  top: 0;
  height: 100vh;
  overflow: hidden;
  background-color: var(--bg-secondary);
}

/* ============ HORIZONTAL STRIP ============ */
.horizontal-strip {
  display: flex;
  width: max-content;
  height: 100vh;
  will-change: transform;
}

/* ============ CANVAS (each course = one wide editorial canvas) ============ */
.canvas {
  position: relative;
  width: 140vw;
  height: 100vh;
  overflow: hidden;
  flex-shrink: 0;
}

/* Ambient glow removed — kept clean for both themes */

/* Z-index stacking — all elements above the glow */
.display-title,
.tagline,
.body-text,
.topic-list,
.floating-logo,
.deco-line,
.deco-circle,
.section-number,
.level-tag,
.glass-panel,
.canvas-separator {
  z-index: 1;
}

/* ============ GLASS PANEL (groups text content) ============ */
.glass-panel {
  position: absolute;
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 20px;
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  padding: 40px 44px;
  box-shadow:
    0 8px 32px rgba(0, 0, 0, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.05);
}

/* Elements inside the glass panel use normal document flow */
.glass-panel .tagline {
  position: relative;
  margin-bottom: 16px;
}

.glass-panel .body-text {
  position: relative;
  margin-bottom: 24px;
  max-width: 100%;
}

.glass-panel .topic-list {
  position: relative;
}

/* ============ EDITORIAL ELEMENTS ============ */

/* Huge display title */
.display-title {
  position: absolute;
  font-family: 'OrganettoSemiExt', sans-serif;
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: -0.02em;
  line-height: 0.85;
  color: #fff;
  text-shadow:
    0 0 80px rgba(var(--accent-rgb), 0.15),
    0 0 120px rgba(var(--accent-rgb), 0.05);
}

/* Subtitle / tagline */
.tagline {
  position: absolute;
  font-size: 14px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.2em;
  color: var(--accent);
  text-shadow: 0 0 30px rgba(var(--accent-rgb), 0.4);
}

/* Body text */
.body-text {
  position: absolute;
  font-size: 18px;
  line-height: 1.8;
  color: #c8cdd4;
  max-width: 400px;
}

/* Topic list */
.topic-list {
  position: absolute;
  list-style: none;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.topic-list li {
  font-size: 15px;
  font-weight: 500;
  color: #d0d4da;
  padding-left: 20px;
  position: relative;
  letter-spacing: 0.02em;
}

.topic-list li::before {
  content: '>';
  position: absolute;
  left: 0;
  color: var(--accent);
  font-weight: 700;
  font-family: monospace;
  font-size: 16px;
  text-shadow: 0 0 12px rgba(var(--accent-rgb), 0.5);
}

/* Logo / image */
.floating-logo {
  position: absolute;
}

.floating-logo img {
  display: block;
  object-fit: contain;
  filter: drop-shadow(0 0 40px rgba(var(--accent-rgb), 0.2));
}

/* Decorative line */
.deco-line {
  position: absolute;
  background: rgba(var(--accent-rgb), 0.15);
}

/* Decorative circle */
.deco-circle {
  position: absolute;
  border-radius: 50%;
  border: 1px solid rgba(var(--accent-rgb), 0.1);
  background: radial-gradient(
    circle,
    rgba(var(--accent-rgb), 0.04) 0%,
    rgba(var(--accent-secondary-rgb), 0.02) 50%,
    transparent 70%
  );
}

/* Number accent */
.section-number {
  position: absolute;
  font-family: 'OrganettoSemiExt', sans-serif;
  font-size: 280px;
  font-weight: 900;
  color: rgba(var(--accent-rgb), 0.05);
  line-height: 1;
  letter-spacing: -0.05em;
  text-shadow: 0 0 60px rgba(var(--accent-rgb), 0.03);
}

/* Tag pill */
.level-tag {
  position: absolute;
  font-size: 12px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  padding: 8px 20px;
  border-radius: 20px;
  border: 1px solid rgba(var(--accent-rgb), 0.3);
  color: var(--accent);
  background: rgba(var(--accent-rgb), 0.06);
  backdrop-filter: blur(4px);
}

/* Separator between canvases */
.canvas-separator {
  position: absolute;
  right: 0;
  top: 15%;
  height: 70%;
  width: 1px;
  background: linear-gradient(to bottom, transparent, rgba(255,255,255,0.06) 30%, rgba(255,255,255,0.06) 70%, transparent);
}

/* ============ CODE SNIPPET (mini editor block) ============ */
.code-snippet {
  position: absolute;
  background: rgba(0, 0, 0, 0.4);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 10px;
  padding: 16px 20px;
  font-family: 'Courier New', monospace;
  font-size: 13px;
  line-height: 1.5;
  color: #d4d4d4;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  z-index: 1;
  max-width: 340px;
}

.code-snippet__code {
  display: block;
  white-space: pre;
  margin: 0;
  font: inherit;
  color: inherit;
}

.code-snippet__header {
  display: flex;
  align-items: center;
  gap: 5px;
  margin-bottom: 10px;
  padding-bottom: 8px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
}

.code-snippet__dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
}

.code-snippet__dot--red { background: #ff5f57; }
.code-snippet__dot--yellow { background: #febc2e; }
.code-snippet__dot--green { background: #28c840; }

.code-snippet__filename {
  margin-left: 10px;
  font-size: 12px;
  color: #888;
  font-family: 'InterVar', sans-serif;
}

.code-snippet .keyword { color: #c586c0; }
.code-snippet .function { color: #dcdcaa; }
.code-snippet .string { color: #ce9178; }
.code-snippet .comment { color: #6a9955; }
.code-snippet .tag { color: #569cd6; }
.code-snippet .attr { color: #9cdcfe; }
.code-snippet .value { color: #ce9178; }
.code-snippet .type { color: #4ec9b0; }
.code-snippet .number { color: #b5cea8; }

/* ============ STAT LABELS (editorial info scattered) ============ */
.stat-label {
  position: absolute;
  z-index: 1;
  text-transform: uppercase;
  letter-spacing: 0.15em;
}

.stat-label__value {
  display: block;
  font-family: 'OrganettoSemiExt', sans-serif;
  font-size: 28px;
  font-weight: 700;
  color: var(--accent);
  line-height: 1;
  margin-bottom: 6px;
}

.stat-label__text {
  display: block;
  font-size: 11px;
  font-weight: 600;
  color: #888;
  letter-spacing: 0.2em;
}

/* ============ CATCHPHRASE (editorial conviction text) ============ */
.catchphrase {
  position: absolute;
  z-index: 1;
  max-width: 280px;
}

.catchphrase__text {
  font-size: 20px;
  font-weight: 300;
  line-height: 1.5;
  color: rgba(255, 255, 255, 0.6);
  font-style: italic;
  text-transform: uppercase;
}

.catchphrase__text strong {
  color: var(--accent);
  font-weight: 600;
  font-style: normal;
}

/* ============ LIGHT THEME OVERRIDES ============ */
/* Approche clean : ombres douces, pas de lueurs colorees */

/* Glass panel : ombre classique, pas de glow */
[data-theme="light"] .glass-panel {
  border: 1px solid rgba(0, 0, 0, 0.06);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
  backdrop-filter: blur(7px);
}

[data-theme="light"] .display-title {
  color: var(--text-primary);
  text-shadow: none;
}

[data-theme="light"] .body-text {
  color: var(--text-secondary);
}

[data-theme="light"] .topic-list li {
  color: var(--text-secondary);
}

[data-theme="light"] .topic-list li::before {
  text-shadow: none;
}

/* Numero de section discret sans glow */
[data-theme="light"] .section-number {
  color: rgba(0, 0, 0, 0.04);
  text-shadow: none;
}

/* Deco : lignes et cercles subtils en gris */
[data-theme="light"] .deco-circle {
  border: 1px solid rgba(0, 0, 0, 0.04);
  background: rgba(0, 0, 0, 0.015);
}

[data-theme="light"] .deco-line {
  background: rgba(0, 0, 0, 0.06);
}

/* Logo : ombre classique au lieu d'un glow colore */
[data-theme="light"] .floating-logo img {
  filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.1));
}

/* Level tag clean */
[data-theme="light"] .level-tag {
  color: var(--text-secondary);
  background: rgba(0, 0, 0, 0.04);
  border: 1px solid rgba(0, 0, 0, 0.08);
}

/* Tagline : couleur accent mais pas de glow */
[data-theme="light"] .tagline {
  text-shadow: none;
}

[data-theme="light"] .canvas-separator {
  background: linear-gradient(to bottom, transparent, rgba(0,0,0,0.06) 30%, rgba(0,0,0,0.06) 70%, transparent);
}

/* Code snippet light */
[data-theme="light"] .code-snippet {
  background: rgba(30, 30, 30, 0.92);
}

/* Stat label light */
[data-theme="light"] .stat-label__text {
  color: var(--text-muted);
}

/* Catchphrase light */
[data-theme="light"] .catchphrase__text {
  color: var(--text-muted);
}

/* ============ MOBILE STACK VERTICAL (≤ 768px) ============ */
@media (max-width: 768px) {

  /* --- Neutraliser le mecanisme desktop --- */
  .horizontal-scroll-track {
    height: auto;
    position: relative;
  }

  .pinned-section {
    position: relative;
    height: auto;
    overflow: visible;
  }

  .horizontal-strip {
    display: flex;
    flex-direction: column;
    width: 100%;
    height: auto;
    transform: none !important;
  }

  /* --- Canvas : pleine largeur, layout vertical --- */
  .canvas {
    width: 100%;
    height: auto;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
    padding: 48px 20px;
    overflow: visible;
  }

  /* Separateur entre les formations */
  .canvas + .canvas {
    border-top: 1px solid rgba(255, 255, 255, 0.06);
  }

  [data-theme="light"] .canvas + .canvas {
    border-top: 1px solid rgba(0, 0, 0, 0.06);
  }

  /* --- Override des positions absolues inline --- */
  .canvas .display-title,
  .canvas .glass-panel,
  .canvas .code-snippet,
  .canvas .floating-logo,
  .canvas .stat-label,
  .canvas .catchphrase,
  .canvas .level-tag,
  .canvas .section-number {
    position: relative !important;
    top: auto !important;
    bottom: auto !important;
    left: auto !important;
    right: auto !important;
  }

  /* --- Ordre d'affichage mobile --- */
  .canvas .floating-logo   { order: 1; }
  .canvas .level-tag        { order: 2; }
  .canvas .display-title    { order: 3; }
  .canvas .glass-panel      { order: 4; }
  .canvas .code-snippet     { order: 5; }
  .canvas .stat-label       { order: 6; }
  .canvas .catchphrase      { order: 7; }
  .canvas .section-number   { order: 8; }

  /* --- Redimensionnement des elements --- */
  .canvas .display-title {
    font-size: clamp(36px, 10vw, 56px) !important;
    text-align: center;
    width: 100% !important;
    line-height: 0.9;
  }

  .canvas .glass-panel {
    width: calc(100vw - 40px) !important;
    max-width: 400px;
    padding: 24px 20px;
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
  }

  .canvas .code-snippet {
    max-width: calc(100vw - 40px);
    width: auto !important;
    font-size: 11px;
    overflow-x: auto;
    white-space: pre;
  }

  .canvas .floating-logo img {
    width: 100px !important;
    height: 100px !important;
  }

  .canvas .section-number {
    display: none !important;
  }

  .canvas .stat-label {
    text-align: center;
  }

  .canvas .catchphrase {
    max-width: 100%;
    text-align: center;
  }

  .canvas .level-tag {
    align-self: center;
  }

  /* --- Cacher les decorations inutiles sur mobile --- */
  .canvas .deco-circle,
  .canvas .deco-line,
  .canvas .canvas-separator {
    display: none !important;
  }

  /* --- Reveal : opacity only (evite conflit avec translateX) --- */
  .pinned-section.reveal {
    transform: none;
    opacity: 0;
    transition: opacity 0.6s ease;
  }

  .pinned-section.reveal.is-visible {
    opacity: 1;
    transform: none;
  }
}
